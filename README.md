## üê≥ Docker Command Cheat Sheet (Notes)

This document serves as a quick reference guide for essential Docker and Docker Compose commands, categorized by function.

### 1\. Image Management (Downloading, Listing, Removing)

1.  **Download Image.** (Pulls the latest version (or default tag) of a specified image from a remote registry (usually Docker Hub).)

    ```bash
    docker pull <Image_name>
    ```

2.  **Download Specific Version.** (Pulls an image using a specified tag (e.g., `mysql:8.0` or `node:16-alpine`), ensuring version control.)

    ```bash
    docker pull <Image_name>:<version>
    ```

3.  **List Local Images.** (Lists all image templates currently stored on your local machine.)

    ```bash
    docker image ls
    ```

4.  **Remove Image.** (Deletes a local image from your system. You must stop and remove all containers based on this image first.)

    ```bash
    docker rmi <Image_name>
    ```

### 2\. Container Lifecycle (Creation, Running, Stopping, Restarting)

1.  **Create & Run Container (Foreground).** (Creates a new container instance from the specified image and executes its default command. Runs in the foreground, blocking the terminal.)

    ```bash
    docker run <Image_name>
    ```

2.  **Run in Detached Mode.** (Creates and runs a new container in the **background** (detached mode), freeing up your terminal for other tasks. Essential for servers/services.)

    ```bash
    docker run -d <Image_name>
    ```

3.  **Interactive Session.** (Runs a container and opens an interactive, pseudo-TTY session, allowing you to interact with the container's shell.)

    ```bash
    docker run -it <Image_name>
    ```

4.  **Name the Container.** (Assigns a custom, human-readable name to the container during creation, making it easier to reference.)

    ```bash
    docker run --name <give_name> <ImageName>
    ```

5.  **Start Stopped Container.** (Restarts a container that was previously stopped. The container resumes from its last saved state.)

    ```bash
    docker start <container_Name or id>
    ```

6.  **Stop Running Container (Graceful).** (Gracefully stops a running container.)

    ```bash
    docker stop <container_Name or id>
    ```

7.  **Force Stop Container.** (Sends an immediate `SIGKILL` signal, instantly stopping a container that might be stuck or unresponsive to `docker stop`.)

    ```bash
    docker kill <container_Name or id>
    ```

8.  **Restart Container.** (Stops and then starts a running container. Useful for applying configuration changes that don't require rebuilding the image.)

    ```bash
    docker restart <container_Name or id>
    ```

9.  **Update Restart Policy.** (Modifies the container's configuration to ensure it automatically restarts if it exits or if the Docker daemon restarts.)

    ```bash
    docker update --restart=always <con_id>
    ```

10. **Remove Container.** (Permanently deletes a container instance from the system. The container must be stopped first.)

    ```bash
    docker rm <container_name>
    ```

### 3\. Networking and Ports

1.  **Port Mapping.** (Maps a port from the host machine to a port inside the container. Format is `HostPort:ContainerPort`.)
    ```bash
    docker run -p 8080:3306 <Image_name>
    ```

### 4\. Inspection and Debugging

1.  **List All Containers.** (Lists *all* containers, including running, stopped, and exited ones. Essential for seeing what's consuming resources.)

    ```bash
    docker ps -a
    ```

2.  **View Container Logs.** (Retrieves and displays the standard output and error streams generated by a container's main process. Crucial for debugging.)

    ```bash
    docker logs <container_id>
    ```

3.  **Follow Container Logs (Real-time).** (Displays the logs of a container in real-time (live stream).)

    ```bash
    docker logs -f <container_id>
    ```

4.  **View Container Processes.** (Displays the running processes within a container.)

    ```bash
    docker top <container_id>
    ```

5.  **Access Running Shell.** (Executes an interactive command (like opening a shell, e.g., `/bin/bash`) inside a container that is already running.)

    ```bash
    docker exec -it <con_id> /bin/bash
    ```

6.  **Run Single Command (Non-interactive).** (Executes a single command inside a running container without opening an interactive session.)

    ```bash
    docker exec <con_id> <command>
    ```

### 5\. Docker Compose (Multi-Container Management)

1.  **Build & Deploy Stack.** (Builds and starts all services defined in the specified Compose file (`-f`). Runs in detached mode (`-d`).)

    ```bash
    docker compose -f <filename> up -d
    ```

2.  **List Compose Containers.** (Lists all containers started by the current `docker-compose.yml` file, showing their status and ports.)

    ```bash
    docker compose ps
    ```

3.  **Follow All Compose Logs.** (Displays the combined, real-time log output from all services defined in the Compose file.)

    ```bash
    docker compose logs -f
    ```

4.  **Restart Specific Service.** (Restarts only a specified service without affecting others.)

    ```bash
    docker compose restart <service_name>
    ```

5.  **Stop & Destroy Stack.** (Stops and removes all containers, networks, and the default bridge network created by the Compose file.)

    ```bash
    docker compose -f <filename> down
    ```

6.  **Remove Volumes & Data.** (Stops and removes all resources *including* volumes, permanently deleting any database data or persistent storage.)

    ```bash
    docker compose down -v
    ```

### 6\. Custom Image Building

1.  **Build Custom Image.** (Builds a new Docker image from a `Dockerfile` located in the current directory (`.`). The `-t` flag tags the image with a specified name and version.)
    ```bash
    docker build -t <filename>:1.0 .
    ```

### 7\. Data Persistence (Volumes)

1.  **List Volumes.** (Lists all named Docker volumes currently managed on your host system.)

    ```bash
    docker volume ls
    ```

2.  **Create Named Volume.** (Creates a named volume on the host system, which is the preferred way to manage persistent data for containers.)

    ```bash
    docker volume create <vol_name>
    ```

3.  **Remove Volume.** (Deletes a named volume from the host system.)

    ```bash
    docker volume rm <vol_name>
    ```

4.  **Anonymous Volume Mount.** (Creates and mounts a temporary, anonymous volume inside the container at the specified mount point.)

    ```bash
    docker run -v <mount_path> <Image_name>
    ```

5.  **Bind Mount (Code Sync).** (Binds a specific directory on your local machine (`host_path`) directly into the container (`container_path`). Useful for local development.)

    ```bash
    docker run -v <host_path>:<container_path>
    ```

6.  **Named Volume Mount (Data Persistence).** (Mounts a persistent, named volume into the container at the specified container path. Best practice for database data.)

    ```bash
    docker run -v <vol_name>:<container_path>
    ```

### 8\. System Cleanup

1.  **Remove All Stopped Containers.** (Removes all containers that are currently in the 'Exited' state. A quick way to clean up after testing.)

    ```bash
    docker container prune
    ```

2.  **Remove Unused Resources (Prune).** (Removes unused containers, networks, dangling images, and build cache.)

    ```bash
    docker system prune -a
    ```

 *Created and maintained by [dhruv-dosh](https://github.com/dhruv-dosh)*
